{% extends 'base.html' %}
{% load static %}

{% block extra_head %}
<link rel="stylesheet" href="{% static 'css/add_task.css' %}">
{% endblock %}

{% block content %}

{% if form.errors %}
    <div class="errors">
        <ul>
            {% for field in form %}
                {% if field.errors %}
                    <li>
                        <strong>{{ field.label }}:</strong>
                        <ul>
                            {% for error in field.errors %}
                                <li>{{ error }}</li>
                            {% endfor %}
                        </ul>
                    </li>
                {% endif %}
            {% endfor %}
        </ul>
    </div>
{% endif %}

<div class="task-page">
    <div class="task-left">
        <h1>➕ Add a New Task</h1>
        <form method="POST">
            {% csrf_token %}
            <div class="form-group">
                <label>📝 Title:</label> {{ form.title }}
            </div>
            <div class="form-group">
                <label>🚩 Priority:</label> {{ form.priority }}
            </div>
            <div class="form-group">
                <label>📅 Due Date:</label> {{ form.due_date }}
            </div>
            <div class="form-group">
                <label>📝 Description:</label> {{ form.description }}
            </div>
            <div class="form-group">
                <label>📋 Status:</label> {{ form.status }}  <!-- Ensure status field is included -->
            </div>
            <button type="submit">✅ Save Task</button>
        </form>
        <p><a href="{% url 'task_list' %}">🔙 Back to Task List</a></p>
    </div>

    <div class="task-right">
        <div class="quote-box">
            <h3>💡 Stay Motivated</h3>
            <p>"Success is the sum of small efforts repeated day in and day out."</p>
        </div>
        <img src="{% static 'images/productivity.jpg' %}" alt="Task Illustration" class="task-illustration">
    </div>
</div>
{% endblock %}
